{% extends "menu.html" %}

{% load static %}
{% block head %}
<!-- select2 -->
<script src='{% static "lib/node_modules/select2/dist/js/select2.min.js" %}'></script>
<link rel="stylesheet" href='{% static "lib/node_modules/select2/dist/css/select2.min.css" %}'>
<link rel="stylesheet" href='{% static "lib/node_modules/select2-bootstrap-5-theme/dist/select2-bootstrap-5-theme.min.css" %}'>
<!-- libreria -->
<script src='{% static "js/logic_reports.js" %}'></script>
{% endblock head %}

{% block main_content %}
<div class="container">
  <h1>
    {% block report_title %}{% endblock report_title %}
  </h1>
  <hr>

  <!-- area de alertas -->
  {% if form.errors %}
  <div id='alert-area' class="alert alert-warning" role="alert">
    <strong>Ha ocurrido un error:</strong>
    {{ form.errors }}
  </div>
  {% endif %}

  <form id='form-reporte' method="post" class='needs-validation' novalidate>
    {% csrf_token %}
    <div class="card my-5 shadow">
      <div class="card-header">
        <strong class="text-uppercase">Sección #1 (información general del reporte)</strong>
      </div>
      <div class="card-body">
        <div class="row g-3">
          <div class="col-md-6">
            {{form.control|clabel}}
            <div data-toggle="tooltip" data-placement="bottom" title="Por favor ingresa un número">
              {{form.control}}
            </div>
          </div>
          <div class="col-md-6">
            {{form.fecha_reporte|clabel}}
            {{form.fecha_reporte}}
          </div>
          <div class="col-md-6">
            {{form.salida|clabel}}
            {{form.salida}}
          </div>
          <div class="col-md-6">
            {{form.hora_salida|clabel}}
            {{form.hora_salida}}
          </div>
          <div class="col-md-6">
            {{form.entrada|clabel}}
            {{form.entrada}}
          </div>
          <div class="col-md-6">
            {{form.hora_entrada|clabel}}
            {{form.hora_entrada}}
          </div>
          <div class="col-12">
            {{form.observaciones|clabel}}
            {{form.observaciones}}
          </div>
        </div>
      </div>
    </div>

    <!-- seccion 1 -->
    <div class="card my-5 shadow">
      <div class="card-header">
        <strong class="text-uppercase">Sección #2 (información del personal)</strong>
      </div>
      <div class="card-body">
        <div class="row g-3">
          <div class="col-md-6">
            {{form.pilotos|clabel}}
            {{form.pilotos}}
          </div>
          <div class="col-md-6">
            {{form.unidades|clabel}}
            {{form.unidades}}
          </div>
          <div class="col-md-12">
            {{form.personal_destacado|clabel}}
            {{form.personal_destacado}}
          </div>
          <div class="col-md-6">
            {{form.radiotelefonista|clabel}}
            {{form.radiotelefonista}}
          </div>

          <div class="col-md-6">
            {{form.formalizador|clabel}}
            {{form.formalizador}}
          </div>
          <div class="col-md-6">
            {{form.jefe_servicio|clabel}}
            {{form.jefe_servicio}}
          </div>
        </div>
      </div>
    </div>

    <!-- seccion 2 -->
    <div class="card mt-5 mb-4 shadow">
      <div class="card-header">
        <strong class="text-uppercase">Sección #3 (información del servicio)</strong>
      </div>
      <div class="card-body">
        <div class="row g-3">
          <div class="col-md-6">
            {{form.direccion|clabel}}
            {{form.direccion}}
          </div>
          <div class="col-md-6">
            {{form.tipo_servicio|clabel}}
            {{form.tipo_servicio}}
          </div>
          <div class="col-md-6">
            {{form.hospital|clabel}}
            {{form.hospital}}
          </div>
          <div class="col-md-6">
            {{form.tipo_solicitud|clabel}}
            {{form.tipo_solicitud}}
          </div>
          <div class="col-md-6">
            {{form.solicitantes|clabel}}
            {{form.solicitantes}}
          </div>
          <div class="col-md-6">
            {{form.escoltas|clabel}}
            {{form.escoltas}}
          </div>
          <div class="col-md-6">
            {{form.pacientes|clabel}}
            {{form.pacientes}}
          </div>
          <div class="col-md-6">
            {{form.fallecidos|clabel}}
            {{form.fallecidos}}
          </div>
          <div class="col-12">
            {{form.domicilios|clabel}}
            {{form.domicilios}}
          </div>
        </div>
      </div>
    </div>

    <!-- seccion 3 -->
    <div class="buttons">
      <button id="report_submit" class="btn btn-primary me-2">
        {% block report_btn_name %}{% endblock report_btn_name %}
      </button>
      <a href="{% url 'reports:index' %}" class="btn btn-secondary">
        Cancelar <i class="bi bi-arrow-return-left"></i>
      </a>
    </div>
  </form>
</div>
{% endblock main_content %}
